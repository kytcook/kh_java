package three_3;

import java.awt.Color;
import java.awt.Container;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.ButtonGroup;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPasswordField;
import javax.swing.JTextField;
import javax.swing.JToggleButton;


public class PFchange_ver1 extends JFrame implements ActionListener {
	/****************************************
	 * 				   선언부					*	
	 ****************************************/
	// 이미지 경로를 지정해주세요.
//	// 토글연습
//	JToggleButton tb1	= new JToggleButton("1버튼", true); 
//	JToggleButton tb2	= new JToggleButton("2버튼", false); 
//	ButtonGroup tb_btn 	= new ButtonGroup(); 
//	Container con;
	
	boolean box_toggle 	= false;
	
	// J입력
	JLabel jlb_changepw	= new JLabel("PW 변경");	   				// 비번변경  라벨
	JLabel jlb_repw 	= new JLabel("PW 확인");	 				// 비번변경  라벨
	JLabel jlb_nick		= new JLabel("닉네임 변경");				// 닉네임변경 라벨
	JLabel jlb_pcCheck	= new JLabel("1:1 대화");					// 1:1 대화 라벨 private chat check 
	JPasswordField 	jpf_changepw	= new JPasswordField("");	// 비밀번호 입력칸
	JPasswordField 	jpf_repw		= new JPasswordField("");	// 재확인	 입력칸
	JTextField 		jtf_nick		= new JTextField("");		// 닉네임 텍스트필드
	
	// J버튼
	// 이미지 경로를 확인 해주세요.
	String imgPath	= "D:\\java_study\\workspace_java\\kh_javaAC\\Messenger_jababaFamily\\src\\img\\";
	JButton 		jbtn_pcon 		= new JButton("수락"); 								// Private chat on  button	1:1대화 수락
	JButton 		jbtn_pcoff 		= new JButton("거절");								// Private chat off button	1:1대화 거절
	JButton 		jbtn_update 	= new JButton(new ImageIcon(imgPath+"변경하기.png"));	// 업데이트 버튼
	JButton 		jbtn_del 		= new JButton("아이디 삭제");							// 아이디 삭제 버튼
	JButton 		jbtn_pwok 		= new JButton(new ImageIcon(imgPath+"버튼.png")); 	// 비번 체크 버튼	
	JButton 		jbtn_nickok 	= new JButton(new ImageIcon(imgPath+"버튼.png")); 	// 닉네임 체크 버튼
	// 폰트설정
	Font			jl_font 		= new Font("맑은고딕체", Font.BOLD, 17);				// 폰트를 파라미터 값(글씨체, 폰트굵기, 크기)으로  생성한다.
	
	/****************************************
	 * 				   생성자					*	
	 ****************************************/
	public PFchange_ver1() {
		initDisplay(); 
		}
	
	/****************************************
	 * 				   화면처리				*	
	 ****************************************/
	public void initDisplay() {
		
	    this.setLayout(null);
	    this.setTitle("꽉자바 ver.1");
	    this.setSize(450, 470);
	    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
	    this.setVisible(true);
	    this.setLocation(600, 150);
	    this.addWindowListener(new WindowAdapter() { // 익명리스너
	   	 public void windowClosing(WindowEvent e) {
	            System.exit(0);
	   	 }});
	    jbtn_pwok.addActionListener(this);
	    jbtn_nickok.addActionListener(this);
	    jbtn_update.addActionListener(this);
	    
        /////////////////// 비밀번호 ///////////////////////
        // 비밀번호 변경
        jlb_changepw.setBounds(40, 40, 130, 40);	// 비밀번호
        jlb_changepw.setFont(jl_font);				// 폰트세팅
        this.add(jlb_changepw);						// 버튼붙이기
        jpf_changepw.setBounds(140, 40, 200, 40);	// 입력창
        jpf_changepw.setEnabled(box_toggle);	
        this.add(jpf_changepw);

        // 비밀번호 확인
        jlb_repw.setBounds(40, 100, 130, 40);		// 비밀번호
        jlb_repw.setFont(jl_font);					// 폰트세팅
        this.add(jlb_repw);							// 버튼붙이기
        jpf_repw.setBounds(140, 100, 200, 40);		// 입력창
        jpf_repw.setEnabled(box_toggle);	
        this.add(jpf_repw);
        
        // 비밀번호 확인버튼
        jbtn_pwok.setBounds(355, 45, 28, 28);
        this.add(jbtn_pwok);
        /////////////////// 비밀번호 /////////////////////
        
        /////////////////// 닉네임 //////////////////////
        // 닉네임 확인 버튼
        jbtn_nickok.setBounds(355, 160, 28, 28);
        this.add(jbtn_nickok);
        
        // 닉네임
        jlb_nick.setBounds(40, 160, 130, 40);	
        jlb_nick.setFont(jl_font);
        this.add(jlb_nick);
        jtf_nick.setBounds(140, 160, 200, 40);	
        jtf_nick.setEnabled(box_toggle);	
        this.add(jtf_nick);
        /////////////////// 닉네임 //////////////////////
        
        ////////////////// 1:1대화 /////////////////////
        // 1:1대화 글씨
        jlb_pcCheck.setBounds(40, 220, 130, 40);	
        jlb_pcCheck.setFont(jl_font);
        this.add(jlb_pcCheck);
        
        // 수락버튼
        jbtn_pcon.setBounds(140, 220, 100, 40);
        this.add(jbtn_pcon);
        jbtn_pcon.setBackground(new Color(90,50,90));
        
        // 거절버튼
        jbtn_pcoff.setBounds(280, 220, 100, 40);
        this.add(jbtn_pcoff);
        jbtn_pcon.setBackground(new Color(90,50,90));
        ////////////////// 1:1대화 /////////////////////   
        
        // 변경하기 버튼
        jbtn_update.setBounds(140, 280, 140, 40);
        jbtn_update.setEnabled(box_toggle);	
        this.add(jbtn_update);
        
        // 아이디 삭제 버튼
        jbtn_del.setBounds(140, 350, 140, 40);
        jbtn_del.setFont(jl_font);
		jbtn_del.setEnabled(box_toggle);	
        this.add(jbtn_del);
        
        
	}/////////////////[end of initDisplay]////////////////
	
	@Override
	public void actionPerformed(ActionEvent e) {
		Object obj = e.getSource();
		// 중복확인 버튼
		if (obj == jbtn_pwok) {						// '비밀번호체크 버튼' 눌리면
//			System.out.println("버튼눌림");
//			MemberDAO mDao = new MemberDAO();			// DAO 인스턴스화
//			String user_pw = jpf_pw.getText();			// user_pw에 입력한 값을 저장한다.
//			int result = mDao.signIn(user_id ,user_pw);	// 위에서 입력한 pw를 dao클래스의 아이디체크메소드 파라미터로 던져주고 반환받은 값을 result에 저장
//			if(result == -1) {							// 만약 result가 -1이면 중복된 아이디가 있다.
//				// Dao에 있는 메시지 출력
//			}else if(result == 1) {						// 사용가능한 아이디라면
				box_toggle = false;						
				jtf_nick.setEnabled(box_toggle);		
				box_toggle = true;						
				jpf_changepw.setEnabled(box_toggle);		
				jpf_repw.setEnabled(box_toggle);			
				jbtn_update.setEnabled(box_toggle);		
				jbtn_del.setEnabled(box_toggle);			
				}
//			else if (obj == jbtn)
		//	}
			else if (obj == jbtn_nickok) {
				box_toggle = false;						
				jpf_changepw.setEnabled(box_toggle);		
				jpf_repw.setEnabled(box_toggle);			
				box_toggle = true;						
				jtf_nick.setEnabled(box_toggle);		
				jbtn_update.setEnabled(box_toggle);		
				jbtn_del.setEnabled(box_toggle);			
				}
		
			else if (obj == jbtn_update) {			// '변경하기 버튼'이 눌리면
//			MemberDAO mDao = new MemberDAO();		// DAO 인스턴스화
//			String user_ID = jtf_id.getText();		// user_ID는 미리 입력받아져 있어야한다.
//			String user_pw = jpf_pw.getText();		// user_pw에 입력받은 텍스트를 넣음 
//			String user_nick = jtf_nick.getText();	// user_name에 입력받은 텍스트를 담음
//	    	int result = mDao.signUp(user_ID,user_pw,user_nick); // 위에서 담은 3가지 변수값을 Dao클래스 아래 signUp메소드로 던져서 DB 대조후에 리턴값 받음
//	    	if(result == 1) {	//회원가입 성공				
    			new TalkClient();
    			dispose();
	    	}
		}
//	}
	
	public static void main(String[] args) {
		new PFchange_ver1();
	}

}/////////////////[end of class PFchange_ver1]////////////////
